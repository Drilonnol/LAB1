{"ast":null,"code":"import { GET_QYTETETS, GET_QYTETI, CREATE_QYTETI, DELETE_QYTETI } from \"../actions/type\";\nimport { GET_ERRORS } from \"./type\";\nimport axios from \"axios\";\nconst token = localStorage.getItem('jwtToken');\nconsole.log('Token from localStorage:', token);\nexport const createQyteti = qytet => async dispatch => {\n  try {\n    const response = await axios.post(\"http://192.168.1.16:8081/meaxhimi-spitalit-app/api/qyteti\", qytet, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('jwtToken')}` // Marrja e JWT token-it nga localStorage\n      }\n    });\n    console.log('Response:', response.data);\n    alert('Qyteti u krijua me sukses!');\n    dispatch({\n      type: CREATE_QYTETI,\n      payload: response.data\n    });\n    window.location.href = \"/qytetiList\";\n  } catch (error) {\n    console.error('Error:', error.response.data);\n    dispatch({\n      type: GET_ERRORS,\n      payload: error.response.data\n    });\n    if (error.response && error.response.status === 401) {\n      alert('Unauthorized: Administrators are not authorized to perform this action.');\n    }\n  }\n};\nexport const getAllQytetet = () => async dispatch => {\n  try {\n    const response = await axios.get(`http://192.168.1.16:8081/meaxhimi-spitalit-app/api/qyteti/all`);\n    dispatch({\n      type: GET_QYTETETS,\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: GET_ERRORS,\n      payload: error.response.data\n    });\n  }\n};\n//nxit aksionin me ndodh\nexport const getQyteti = id => async dispatch => {\n  try {\n    const response = await axios.get(`http://192.168.1.16:8081/meaxhimi-spitalit-app/api/qyteti/${id}`, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('jwtToken')}` // Marrja e JWT token-it nga localStorage\n      }\n    });\n    dispatch({\n      type: GET_QYTETI,\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: GET_ERRORS,\n      payload: error.response.data\n    });\n  }\n};\nexport const deleteQyteti = id => async dispatch => {\n  if (window.confirm(\"Jeni i sigurt qe doni te fshini kete\")) {\n    await axios.delete(`http://192.168.1.16:8081/meaxhimi-spitalit-app/api/qyteti/${id}`);\n    dispatch({\n      type: DELETE_QYTETI,\n      payload: id\n    });\n  }\n};","map":{"version":3,"names":["GET_QYTETETS","GET_QYTETI","CREATE_QYTETI","DELETE_QYTETI","GET_ERRORS","axios","token","localStorage","getItem","console","log","createQyteti","qytet","dispatch","response","post","headers","Authorization","data","alert","type","payload","window","location","href","error","status","getAllQytetet","get","getQyteti","id","deleteQyteti","confirm","delete"],"sources":["C:/Users/Drilon/Desktop/front-labus-app/src/actions/QyteteAction.js"],"sourcesContent":["import { GET_QYTETETS,GET_QYTETI,CREATE_QYTETI,DELETE_QYTETI } from \"../actions/type\";\r\nimport { GET_ERRORS } from \"./type\";\r\nimport axios from \"axios\";\r\nconst token = localStorage.getItem('jwtToken');\r\nconsole.log('Token from localStorage:', token);\r\nexport const createQyteti = (qytet) => async (dispatch) => {\r\n    try {\r\n     \r\n        const response = await axios.post(\r\n            \"http://192.168.1.16:8081/meaxhimi-spitalit-app/api/qyteti\",\r\n            qytet,\r\n            {\r\n                headers: {\r\n                    Authorization: `Bearer ${localStorage.getItem('jwtToken')}` // Marrja e JWT token-it nga localStorage\r\n                }\r\n            }\r\n        );\r\n\r\n        console.log('Response:', response.data);\r\n        alert('Qyteti u krijua me sukses!');\r\n\r\n        dispatch({\r\n            type: CREATE_QYTETI,\r\n            payload: response.data,\r\n        });\r\n\r\n        window.location.href = \"/qytetiList\";\r\n    } catch (error) {\r\n        console.error('Error:', error.response.data);\r\n        dispatch({\r\n            type: GET_ERRORS,\r\n            payload: error.response.data\r\n        });\r\n\r\n        if (error.response && error.response.status === 401) {\r\n            alert('Unauthorized: Administrators are not authorized to perform this action.');\r\n        }\r\n    }\r\n};\r\n\r\nexport const getAllQytetet=() => async(dispatch) =>{\r\n    try {\r\n        const response = await axios.get(`http://192.168.1.16:8081/meaxhimi-spitalit-app/api/qyteti/all`);\r\n        dispatch({\r\n            type: GET_QYTETETS,\r\n            payload: response.data\r\n        });\r\n    } catch (error) {\r\n        dispatch({\r\n            type: GET_ERRORS,\r\n            payload: error.response.data\r\n        });\r\n    }\r\n}; \r\n                                        //nxit aksionin me ndodh\r\nexport const getQyteti = (id) => async(dispatch ) => {\r\n    try{\r\n        const response = await axios.get(`http://192.168.1.16:8081/meaxhimi-spitalit-app/api/qyteti/${id}`,\r\n            {\r\n                headers: {\r\n                    Authorization: `Bearer ${localStorage.getItem('jwtToken')}` // Marrja e JWT token-it nga localStorage\r\n                }\r\n            }\r\n        );\r\n        dispatch( { \r\n            type: GET_QYTETI,\r\n            payload: response.data\r\n\r\n        } );\r\n    }catch(error){\r\n        dispatch({\r\n            type: GET_ERRORS,\r\n            payload: error.response.data\r\n        });\r\n    }\r\n};\r\nexport const deleteQyteti =(id) => async(dispatch)=>{\r\n    if(window.confirm(\"Jeni i sigurt qe doni te fshini kete\")){\r\n        await axios.delete(`http://192.168.1.16:8081/meaxhimi-spitalit-app/api/qyteti/${id}`);\r\n        dispatch({\r\n            type: DELETE_QYTETI,\r\n            payload: id,\r\n        });\r\n    }\r\n\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}