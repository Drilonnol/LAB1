{"ast":null,"code":"import axios from \"axios\";\nimport { GET_SPITALI, GET_SPITALIS, CREATE_SPITALI, DELETE_SPITALI, GET_ERRORS } from \"./type\";\nexport const getSpitaletList = qyteti_id => async dispatch => {\n  try {\n    const response = await axios.get(`http://10.116.1.253:8081/meaxhimi-spitalit-app/api/spitalet/reparti/${qyteti_id}`);\n    dispatch({\n      type: GET_SPITALIS,\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: GET_ERRORS,\n      payload: error.response ? error.response.data : \"Gabim Rrjeti\"\n    });\n  }\n};\nexport const createEmployee = (qytetiId, spitali) => async dispatch => {\n  try {\n    const response = await axios.post(`http://10.116.1.253:8081/meaxhimi-spitalit-app/api/spitalet/create/${qytetiId}`, spitali, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('jwtToken')}` // Marrja e JWT token-it nga localStorage\n      }\n    });\n    dispatch({\n      type: CREATE_SPITALI,\n      payload: response.data\n    });\n    window.location.href = `/employeeList/${qytetiId}`;\n  } catch (error) {\n    dispatch({\n      type: GET_ERRORS,\n      payload: error.response ? error.response.data : \"Gabim Rrjeti\"\n    });\n  }\n};\nexport const getEmployee = (qytetiId, spitaliId) => async dispatch => {\n  try {\n    const response = await axios.get(`http://10.116.1.253:8081/meaxhimi-spitalit-app/api/spitalet/get/${qytetiId}/${spitaliId}`);\n    dispatch({\n      type: GET_SPITALI,\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: GET_ERRORS,\n      payload: error.response ? error.response.data : \"Gabim Rrjeti\"\n    });\n  }\n};\nexport const deleteEmployee = (qytetiId, spitaliId) => async dispatch => {\n  try {\n    if (window.confirm(\"A je i sigurt që dëshiron ta fshish?\")) {\n      await axios.delete(`http://10.116.1.253:8081/meaxhimi-spitalit-app/api/spitalet/delete/${qytetiId}/${spitaliId}`);\n      dispatch({\n        type: DELETE_SPITALI,\n        payload: spitaliId\n      });\n      window.location.reload();\n    }\n  } catch (error) {\n    dispatch({\n      type: GET_ERRORS,\n      payload: error.response ? error.response.data : \"Gabim Rrjeti\"\n    });\n  }\n};","map":{"version":3,"names":["axios","GET_SPITALI","GET_SPITALIS","CREATE_SPITALI","DELETE_SPITALI","GET_ERRORS","getSpitaletList","qyteti_id","dispatch","response","get","type","payload","data","error","createEmployee","qytetiId","spitali","post","headers","Authorization","localStorage","getItem","window","location","href","getEmployee","spitaliId","deleteEmployee","confirm","delete","reload"],"sources":["C:/Users/HP/Desktop/front-labus-app/src/actions/SpitaliAction.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { GET_SPITALI, GET_SPITALIS, CREATE_SPITALI, DELETE_SPITALI, GET_ERRORS } from \"./type\";\r\n\r\nexport const getSpitaletList = (qyteti_id) => async (dispatch) => {\r\n    try {\r\n        const response = await axios.get(`http://10.116.1.253:8081/meaxhimi-spitalit-app/api/spitalet/reparti/${qyteti_id}`);\r\n        dispatch({\r\n            type: GET_SPITALIS,\r\n            payload: response.data,\r\n        });\r\n    } catch (error) {\r\n        dispatch({\r\n            type: GET_ERRORS,\r\n            payload: error.response ? error.response.data : \"Gabim Rrjeti\"\r\n        });\r\n    }\r\n};\r\n\r\nexport const createEmployee = (qytetiId, spitali) => async (dispatch) => {\r\n    try {\r\n        const response = await axios.post(`http://10.116.1.253:8081/meaxhimi-spitalit-app/api/spitalet/create/${qytetiId}`, spitali,{\r\n            headers: {\r\n                Authorization: `Bearer ${localStorage.getItem('jwtToken')}` // Marrja e JWT token-it nga localStorage\r\n            }\r\n        }\r\n    );\r\n        dispatch({\r\n            type: CREATE_SPITALI,\r\n            payload: response.data\r\n        });\r\n        window.location.href = `/employeeList/${qytetiId}`;\r\n    } catch (error) {\r\n        dispatch({\r\n            type: GET_ERRORS,\r\n            payload: error.response ? error.response.data : \"Gabim Rrjeti\"\r\n        });\r\n    }\r\n};\r\n\r\nexport const getEmployee = (qytetiId, spitaliId) => async (dispatch) => {\r\n    try {\r\n        const response = await axios.get(`http://10.116.1.253:8081/meaxhimi-spitalit-app/api/spitalet/get/${qytetiId}/${spitaliId}`);\r\n        dispatch({\r\n            type: GET_SPITALI,\r\n            payload: response.data\r\n        });\r\n    } catch (error) {\r\n        dispatch({\r\n            type: GET_ERRORS,\r\n            payload: error.response ? error.response.data : \"Gabim Rrjeti\"\r\n        });\r\n    }\r\n};\r\n\r\nexport const deleteEmployee = (qytetiId, spitaliId) => async (dispatch) => {\r\n    try {\r\n        if (window.confirm(\"A je i sigurt që dëshiron ta fshish?\")) {\r\n            await axios.delete(`http://10.116.1.253:8081/meaxhimi-spitalit-app/api/spitalet/delete/${qytetiId}/${spitaliId}`);\r\n            dispatch({\r\n                type: DELETE_SPITALI,\r\n                payload: spitaliId\r\n            });\r\n            window.location.reload();\r\n        }\r\n    } catch (error) {\r\n        dispatch({\r\n            type: GET_ERRORS,\r\n            payload: error.response ? error.response.data : \"Gabim Rrjeti\"\r\n        });\r\n    }\r\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,EAAEC,YAAY,EAAEC,cAAc,EAAEC,cAAc,EAAEC,UAAU,QAAQ,QAAQ;AAE9F,OAAO,MAAMC,eAAe,GAAIC,SAAS,IAAK,MAAOC,QAAQ,IAAK;EAC9D,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACU,GAAG,CAAC,uEAAuEH,SAAS,EAAE,CAAC;IACpHC,QAAQ,CAAC;MACLG,IAAI,EAAET,YAAY;MAClBU,OAAO,EAAEH,QAAQ,CAACI;IACtB,CAAC,CAAC;EACN,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZN,QAAQ,CAAC;MACLG,IAAI,EAAEN,UAAU;MAChBO,OAAO,EAAEE,KAAK,CAACL,QAAQ,GAAGK,KAAK,CAACL,QAAQ,CAACI,IAAI,GAAG;IACpD,CAAC,CAAC;EACN;AACJ,CAAC;AAED,OAAO,MAAME,cAAc,GAAGA,CAACC,QAAQ,EAAEC,OAAO,KAAK,MAAOT,QAAQ,IAAK;EACrE,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACkB,IAAI,CAAC,sEAAsEF,QAAQ,EAAE,EAAEC,OAAO,EAAC;MACxHE,OAAO,EAAE;QACLC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,EAAE,CAAC;MAChE;IACJ,CACJ,CAAC;IACGd,QAAQ,CAAC;MACLG,IAAI,EAAER,cAAc;MACpBS,OAAO,EAAEH,QAAQ,CAACI;IACtB,CAAC,CAAC;IACFU,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,iBAAiBT,QAAQ,EAAE;EACtD,CAAC,CAAC,OAAOF,KAAK,EAAE;IACZN,QAAQ,CAAC;MACLG,IAAI,EAAEN,UAAU;MAChBO,OAAO,EAAEE,KAAK,CAACL,QAAQ,GAAGK,KAAK,CAACL,QAAQ,CAACI,IAAI,GAAG;IACpD,CAAC,CAAC;EACN;AACJ,CAAC;AAED,OAAO,MAAMa,WAAW,GAAGA,CAACV,QAAQ,EAAEW,SAAS,KAAK,MAAOnB,QAAQ,IAAK;EACpE,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACU,GAAG,CAAC,mEAAmEM,QAAQ,IAAIW,SAAS,EAAE,CAAC;IAC5HnB,QAAQ,CAAC;MACLG,IAAI,EAAEV,WAAW;MACjBW,OAAO,EAAEH,QAAQ,CAACI;IACtB,CAAC,CAAC;EACN,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZN,QAAQ,CAAC;MACLG,IAAI,EAAEN,UAAU;MAChBO,OAAO,EAAEE,KAAK,CAACL,QAAQ,GAAGK,KAAK,CAACL,QAAQ,CAACI,IAAI,GAAG;IACpD,CAAC,CAAC;EACN;AACJ,CAAC;AAED,OAAO,MAAMe,cAAc,GAAGA,CAACZ,QAAQ,EAAEW,SAAS,KAAK,MAAOnB,QAAQ,IAAK;EACvE,IAAI;IACA,IAAIe,MAAM,CAACM,OAAO,CAAC,sCAAsC,CAAC,EAAE;MACxD,MAAM7B,KAAK,CAAC8B,MAAM,CAAC,sEAAsEd,QAAQ,IAAIW,SAAS,EAAE,CAAC;MACjHnB,QAAQ,CAAC;QACLG,IAAI,EAAEP,cAAc;QACpBQ,OAAO,EAAEe;MACb,CAAC,CAAC;MACFJ,MAAM,CAACC,QAAQ,CAACO,MAAM,CAAC,CAAC;IAC5B;EACJ,CAAC,CAAC,OAAOjB,KAAK,EAAE;IACZN,QAAQ,CAAC;MACLG,IAAI,EAAEN,UAAU;MAChBO,OAAO,EAAEE,KAAK,CAACL,QAAQ,GAAGK,KAAK,CAACL,QAAQ,CAACI,IAAI,GAAG;IACpD,CAAC,CAAC;EACN;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}