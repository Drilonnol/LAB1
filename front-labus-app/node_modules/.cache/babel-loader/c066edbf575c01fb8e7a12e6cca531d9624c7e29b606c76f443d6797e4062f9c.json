{"ast":null,"code":"import { CREATE_USER, GET_USER } from \"../actions/type\";\nimport axios from \"axios\";\nimport { GET_ERRORS } from \"../actions/type\";\nexport const createUser = user => async dispatch => {\n  try {\n    const response = await axios.post(`http://192.168.0.22:8083/in.mahesh.tasks/auth/signup`, user);\n    //window.location.href = `/`\n    dispatch({\n      type: CREATE_USER,\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: GET_ERRORS,\n      payload: error.response.data\n    });\n  }\n};\nexport const login = newPacinet => async dispatch => {\n  try {\n    const response = await axios.post('http://192.168.0.22:8083/in.mahesh.tasks/auth/signin', newPacinet);\n    if (response.data.status) {\n      dispatch({\n        type: 'LOGIN_SUCCESS',\n        payload: response.data\n      });\n      localStorage.setItem('jwtToken', response.data.jwt);\n      localStorage.setItem('userId', response.data.id);\n      return response.data;\n      dispatch({\n        type: id,\n        payload: response.data.id\n      });\n      localStorage.setItem('jwtToken', response.data.id);\n      return response.data;\n      dispatch({\n        type: 'LOGIN_FAILURE',\n        payload: response.data.message\n      });\n      localStorage.setItem('jwtToken', response.data.message);\n      return response.data;\n    }\n  } catch (error) {\n    dispatch({\n      type: 'LOGIN_FAILURE',\n      payload: error.message\n    });\n    return {\n      status: false,\n      message: error.message\n    };\n  }\n};\nexport const verifikimi = token => async dispatch => {\n  try {\n    const response = await axios.post('http://192.168.0.22:8083/in.mahesh.tasks/auth/verifyToken', {}, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    if (response.data) {\n      return {\n        status: true,\n        message: 'Token is valid'\n      };\n    } else {\n      return {\n        status: false,\n        message: 'Token is invalid'\n      };\n    }\n  } catch (error) {\n    return {\n      status: false,\n      message: error.message\n    };\n  }\n};\n\n/*export const getUser = (userId) => async (dispatch) => {\r\n  try {\r\n      const response =\r\n       await axios.get(`http://localhost:8083/user/${userId}`);\r\n      dispatch({\r\n          type: GET_USER,\r\n          payload: response.data\r\n      });\r\n  } catch (error) {\r\n      dispatch({\r\n          type: GET_ERRORS,\r\n          payload: error.response.data\r\n      });\r\n  }\r\n};*/\n\n/*export const logoutUser = () => (dispatch) => {\r\n  // Clear user data from local storage or session storage\r\n  localStorage.removeItem('userToken'); // or sessionStorage\r\n  localStorage.removeItem('user'); // or sessionStorage\r\n\r\n  // Dispatch the logout action\r\n  dispatch({\r\n    type: 'LOGOUT_USER',\r\n  });\r\n\r\n  // Optionally, redirect to login page if needed\r\n  window.location.reload();\r\n  window.location.href = '/';\r\n  \r\n};*/","map":{"version":3,"names":["CREATE_USER","GET_USER","axios","GET_ERRORS","createUser","user","dispatch","response","post","type","payload","data","error","login","newPacinet","status","localStorage","setItem","jwt","id","message","verifikimi","token","headers","Authorization"],"sources":["C:/Users/HP/Desktop/front-labus-app/src/actions/SingupAction.js"],"sourcesContent":["import { CREATE_USER, GET_USER } from \"../actions/type\";\r\nimport axios from \"axios\";\r\nimport { GET_ERRORS } from \"../actions/type\";\r\n\r\nexport const createUser = (user) => async (dispatch) => {\r\n    try {\r\n        const response = \r\n        await axios.post(`http://192.168.0.22:8083/in.mahesh.tasks/auth/signup`,user);\r\n        //window.location.href = `/`\r\n        dispatch({\r\n            type: CREATE_USER,\r\n            payload: response.data\r\n        });\r\n    } catch (error) {\r\n        dispatch({\r\n            type: GET_ERRORS,\r\n            payload: error.response.data\r\n        });\r\n    }\r\n};\r\n\r\n\r\nexport const login = (newPacinet) => async (dispatch) => {\r\n    try {\r\n      const response = await axios.post('http://192.168.0.22:8083/in.mahesh.tasks/auth/signin', newPacinet);\r\n  \r\n      if (response.data.status) {\r\n       dispatch({ type: 'LOGIN_SUCCESS', payload: response.data });\r\n        localStorage.setItem('jwtToken', response.data.jwt);\r\n        localStorage.setItem('userId', response.data.id);\r\n        return response.data;\r\n        dispatch({ type: id , payload: response.data.id });\r\n        localStorage.setItem('jwtToken', response.data.id);\r\n        return response.data;\r\n\r\n        dispatch({ type: 'LOGIN_FAILURE', payload: response.data.message });\r\n        localStorage.setItem('jwtToken', response.data.message);\r\n        return response.data;\r\n      }\r\n\r\n    } catch (error) {\r\n      dispatch({ type: 'LOGIN_FAILURE', payload: error.message });\r\n      return { status: false, message: error.message };\r\n    }\r\n\r\n  };\r\n\r\n\r\n  export const verifikimi = (token) => async (dispatch) => {\r\n    try {\r\n      const response = await axios.post(\r\n        'http://192.168.0.22:8083/in.mahesh.tasks/auth/verifyToken',\r\n        {},\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n  \r\n      if (response.data) {\r\n        return { status: true, message: 'Token is valid' };\r\n      } else {\r\n        return { status: false, message: 'Token is invalid' };\r\n      }\r\n    } catch (error) {\r\n      return { status: false, message: error.message };\r\n    }\r\n  };\r\n\r\n  /*export const getUser = (userId) => async (dispatch) => {\r\n    try {\r\n        const response =\r\n         await axios.get(`http://localhost:8083/user/${userId}`);\r\n        dispatch({\r\n            type: GET_USER,\r\n            payload: response.data\r\n        });\r\n    } catch (error) {\r\n        dispatch({\r\n            type: GET_ERRORS,\r\n            payload: error.response.data\r\n        });\r\n    }\r\n};*/\r\n \r\n \r\n \r\n \r\n \r\n \r\n  /*export const logoutUser = () => (dispatch) => {\r\n    // Clear user data from local storage or session storage\r\n    localStorage.removeItem('userToken'); // or sessionStorage\r\n    localStorage.removeItem('user'); // or sessionStorage\r\n  \r\n    // Dispatch the logout action\r\n    dispatch({\r\n      type: 'LOGOUT_USER',\r\n    });\r\n  \r\n    // Optionally, redirect to login page if needed\r\n    window.location.reload();\r\n    window.location.href = '/';\r\n    \r\n  };*/\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}