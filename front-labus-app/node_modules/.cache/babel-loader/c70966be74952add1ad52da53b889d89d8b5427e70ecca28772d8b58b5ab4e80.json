{"ast":null,"code":"import { CREATE_USER, GET_USER } from \"../actions/type\";\nimport axios from \"axios\";\nimport { GET_ERRORS } from \"../actions/type\";\nexport const createUser = user => async dispatch => {\n  try {\n    const response = await axios.post(`http://192.168.1.16:8083/in.mahesh.tasks/auth/signup`, user);\n    dispatch({\n      type: CREATE_USER,\n      payload: response.data\n    });\n    window.alert('Jeni regjistruar me sukses');\n    window.location.href = `/s`;\n  } catch (error) {\n    dispatch({\n      type: GET_ERRORS,\n      payload: error.response.data\n    });\n  }\n};\nexport const login = newPacinet => async dispatch => {\n  try {\n    const response = await axios.post('http://192.168.1.16:8083/in.mahesh.tasks/auth/signin', newPacinet);\n    if (response.data.status) {\n      dispatch({\n        type: 'LOGIN_SUCCESS',\n        payload: response.data\n      });\n      localStorage.setItem('jwtToken', response.data.jwt);\n      localStorage.setItem('userId', response.data.id);\n      return response.data;\n    } else {\n      dispatch({\n        type: 'LOGIN_FAILURE',\n        payload: response.data.message\n      });\n      return response.data;\n    }\n  } catch (error) {\n    dispatch({\n      type: 'LOGIN_FAILURE',\n      payload: error.message\n    });\n    return {\n      status: false,\n      message: error.message\n    };\n  }\n};\nexport const verifikimi = token => async dispatch => {\n  try {\n    const response = await axios.post('http://192.168.1.16:8083/in.mahesh.tasks/auth/verifyToken', {}, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    if (response.data) {\n      return {\n        status: true,\n        message: 'Token is valid'\n      };\n    } else {\n      return {\n        status: false,\n        message: 'Token is invalid'\n      };\n    }\n  } catch (error) {\n    return {\n      status: false,\n      message: error.message\n    };\n  }\n};\n\n/*export const getUser = (userId) => async (dispatch) => {\r\n  try {\r\n      const response =\r\n       await axios.get(`http://localhost:8083/user/${userId}`);\r\n      dispatch({\r\n          type: GET_USER,\r\n          payload: response.data\r\n      });\r\n  } catch (error) {\r\n      dispatch({\r\n          type: GET_ERRORS,\r\n          payload: error.response.data\r\n      });\r\n  }\r\n};*/\n\n/*export const logoutUser = () => (dispatch) => {\r\n  // Clear user data from local storage or session storage\r\n  localStorage.removeItem('userToken'); // or sessionStorage\r\n  localStorage.removeItem('user'); // or sessionStorage\r\n\r\n  // Dispatch the logout action\r\n  dispatch({\r\n    type: 'LOGOUT_USER',\r\n  });\r\n\r\n  // Optionally, redirect to login page if needed\r\n  window.location.reload();\r\n  window.location.href = '/';\r\n  \r\n};*/","map":{"version":3,"names":["CREATE_USER","GET_USER","axios","GET_ERRORS","createUser","user","dispatch","response","post","type","payload","data","window","alert","location","href","error","login","newPacinet","status","localStorage","setItem","jwt","id","message","verifikimi","token","headers","Authorization"],"sources":["C:/Users/Drilon/Desktop/front-labus-app/src/actions/SingupAction.js"],"sourcesContent":["import { CREATE_USER, GET_USER } from \"../actions/type\";\r\nimport axios from \"axios\";\r\nimport { GET_ERRORS } from \"../actions/type\";\r\n\r\nexport const createUser = (user) => async (dispatch) => {\r\n    try {\r\n        const response = \r\n        await axios.post(`http://192.168.1.16:8083/in.mahesh.tasks/auth/signup`,user);\r\n        \r\n        dispatch({\r\n            type: CREATE_USER,\r\n            payload: response.data\r\n        });\r\n        window.alert('Jeni regjistruar me sukses')\r\n        window.location.href = `/s`\r\n    } catch (error) {\r\n        dispatch({\r\n            type: GET_ERRORS,\r\n            payload: error.response.data\r\n        });\r\n    }\r\n};\r\n\r\n\r\nexport const login = (newPacinet) => async (dispatch) => {\r\n    try {\r\n      const response = await axios.post('http://192.168.1.16:8083/in.mahesh.tasks/auth/signin', newPacinet);\r\n  \r\n      if (response.data.status) {\r\n        \r\n        dispatch({ type: 'LOGIN_SUCCESS', payload: response.data });\r\n        \r\n        localStorage.setItem('jwtToken', response.data.jwt);\r\n        localStorage.setItem('userId', response.data.id);\r\n        \r\n        return response.data;\r\n    } else {\r\n    \r\n        dispatch({ type: 'LOGIN_FAILURE', payload: response.data.message });\r\n        return response.data;\r\n    }\r\n} catch (error) {\r\n    \r\n    dispatch({ type: 'LOGIN_FAILURE', payload: error.message });\r\n    return { status: false, message: error.message };\r\n}\r\n};\r\n\r\n\r\n  export const verifikimi = (token) => async (dispatch) => {\r\n    try {\r\n      const response = await axios.post(\r\n        'http://192.168.1.16:8083/in.mahesh.tasks/auth/verifyToken',\r\n        {},\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n  \r\n      if (response.data) {\r\n        return { status: true, message: 'Token is valid' };\r\n      } else {\r\n        return { status: false, message: 'Token is invalid' };\r\n      }\r\n    } catch (error) {\r\n      return { status: false, message: error.message };\r\n    }\r\n  };\r\n\r\n  /*export const getUser = (userId) => async (dispatch) => {\r\n    try {\r\n        const response =\r\n         await axios.get(`http://localhost:8083/user/${userId}`);\r\n        dispatch({\r\n            type: GET_USER,\r\n            payload: response.data\r\n        });\r\n    } catch (error) {\r\n        dispatch({\r\n            type: GET_ERRORS,\r\n            payload: error.response.data\r\n        });\r\n    }\r\n};*/\r\n \r\n \r\n \r\n \r\n \r\n \r\n  /*export const logoutUser = () => (dispatch) => {\r\n    // Clear user data from local storage or session storage\r\n    localStorage.removeItem('userToken'); // or sessionStorage\r\n    localStorage.removeItem('user'); // or sessionStorage\r\n  \r\n    // Dispatch the logout action\r\n    dispatch({\r\n      type: 'LOGOUT_USER',\r\n    });\r\n  \r\n    // Optionally, redirect to login page if needed\r\n    window.location.reload();\r\n    window.location.href = '/';\r\n    \r\n  };*/\r\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,QAAQ,QAAQ,iBAAiB;AACvD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,UAAU,QAAQ,iBAAiB;AAE5C,OAAO,MAAMC,UAAU,GAAIC,IAAI,IAAK,MAAOC,QAAQ,IAAK;EACpD,IAAI;IACA,MAAMC,QAAQ,GACd,MAAML,KAAK,CAACM,IAAI,CAAC,sDAAsD,EAACH,IAAI,CAAC;IAE7EC,QAAQ,CAAC;MACLG,IAAI,EAAET,WAAW;MACjBU,OAAO,EAAEH,QAAQ,CAACI;IACtB,CAAC,CAAC;IACFC,MAAM,CAACC,KAAK,CAAC,4BAA4B,CAAC;IAC1CD,MAAM,CAACE,QAAQ,CAACC,IAAI,GAAG,IAAI;EAC/B,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZV,QAAQ,CAAC;MACLG,IAAI,EAAEN,UAAU;MAChBO,OAAO,EAAEM,KAAK,CAACT,QAAQ,CAACI;IAC5B,CAAC,CAAC;EACN;AACJ,CAAC;AAGD,OAAO,MAAMM,KAAK,GAAIC,UAAU,IAAK,MAAOZ,QAAQ,IAAK;EACrD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,IAAI,CAAC,sDAAsD,EAAEU,UAAU,CAAC;IAErG,IAAIX,QAAQ,CAACI,IAAI,CAACQ,MAAM,EAAE;MAExBb,QAAQ,CAAC;QAAEG,IAAI,EAAE,eAAe;QAAEC,OAAO,EAAEH,QAAQ,CAACI;MAAK,CAAC,CAAC;MAE3DS,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEd,QAAQ,CAACI,IAAI,CAACW,GAAG,CAAC;MACnDF,YAAY,CAACC,OAAO,CAAC,QAAQ,EAAEd,QAAQ,CAACI,IAAI,CAACY,EAAE,CAAC;MAEhD,OAAOhB,QAAQ,CAACI,IAAI;IACxB,CAAC,MAAM;MAEHL,QAAQ,CAAC;QAAEG,IAAI,EAAE,eAAe;QAAEC,OAAO,EAAEH,QAAQ,CAACI,IAAI,CAACa;MAAQ,CAAC,CAAC;MACnE,OAAOjB,QAAQ,CAACI,IAAI;IACxB;EACJ,CAAC,CAAC,OAAOK,KAAK,EAAE;IAEZV,QAAQ,CAAC;MAAEG,IAAI,EAAE,eAAe;MAAEC,OAAO,EAAEM,KAAK,CAACQ;IAAQ,CAAC,CAAC;IAC3D,OAAO;MAAEL,MAAM,EAAE,KAAK;MAAEK,OAAO,EAAER,KAAK,CAACQ;IAAQ,CAAC;EACpD;AACA,CAAC;AAGC,OAAO,MAAMC,UAAU,GAAIC,KAAK,IAAK,MAAOpB,QAAQ,IAAK;EACvD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,IAAI,CAC/B,2DAA2D,EAC3D,CAAC,CAAC,EACF;MACEmB,OAAO,EAAE;QACPC,aAAa,EAAE,UAAUF,KAAK;MAChC;IACF,CACF,CAAC;IAED,IAAInB,QAAQ,CAACI,IAAI,EAAE;MACjB,OAAO;QAAEQ,MAAM,EAAE,IAAI;QAAEK,OAAO,EAAE;MAAiB,CAAC;IACpD,CAAC,MAAM;MACL,OAAO;QAAEL,MAAM,EAAE,KAAK;QAAEK,OAAO,EAAE;MAAmB,CAAC;IACvD;EACF,CAAC,CAAC,OAAOR,KAAK,EAAE;IACd,OAAO;MAAEG,MAAM,EAAE,KAAK;MAAEK,OAAO,EAAER,KAAK,CAACQ;IAAQ,CAAC;EAClD;AACF,CAAC;;AAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAOE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}